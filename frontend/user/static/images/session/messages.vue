<template>
  <div id="messages">
    <div id="l-nav" class="animate__animated animate__fadeInLeft">
      <ul id="create" v-show="showbutton" class="animate__animated animate__fadeIn">
        <li class="box">
          <i class="bx bx-group"></i>
          <span>åˆ›å»ºç¾¤ç»„</span>
        </li>
        <li class="box">
          <i class="bx bx-user-plus"></i>
          <span>æ·»åŠ å¥½å‹</span>
        </li>
        <li class="box">
          <i class="bx bx-folder-plus"></i>
          <span>åˆ›å»ºæ–‡æ¡£</span>
        </li>
        <li class="box">
          <i class="bx bx-message-alt-add"></i>
          <span>åŠ å…¥ä¼šè®®</span>
        </li>
      </ul>
      <div id="top-nav">
        <div id="note">
          <el-badge :value="12" class="item">
            <el-button size="small">è¯„è®º</el-button>
          </el-badge>
          <el-badge :value="1" class="item" type="primary">
            <el-button size="small">é€šçŸ¥</el-button>
          </el-badge>
          <el-badge :value="2" class="item" type="warning">
            <el-button size="small">å›å¤</el-button>
          </el-badge>
        </div>
        <div id="tool">
          <i class="bx bx-plus" @click="toggle()"></i>
        </div>
      </div>
      <div id="list">
        <el-menu
          default-active="1"
          class="el-menu-vertical-demo"
          @open="handleOpen"
          @close="handleClose"
        >
          <el-submenu index="1">
            <template slot="title">
              <!-- <i class='bx bx-message'></i> -->
              <span>æ›´æ—©</span>
            </template>
            <el-menu-item-group>
              <el-menu-item
                v-for="(item,i) in arr"
                :index="i"
                :key="i"
                class="item"
                @click="goIn(i)"
              >
                <div class="avatar">
                  <img :src="item.avatar" />
                </div>
                <div class="info">
                  <div class="box-header">
                    <div class="name">
                      <span>{{item.name}}</span>
                      <p class="status">
                        <b>{{item.status}}</b>
                      </p>
                    </div>
                    <div class="date">{{item.lastdate}}</div>
                  </div>
                  <div class="box-info">
                    <p>{{item.lastmes}}</p>
                  </div>
                </div>
              </el-menu-item>
              <!-- <el-menu-item index="2">é€‰é¡¹2</el-menu-item> -->
            </el-menu-item-group>
          </el-submenu>
        </el-menu>
      </div>
    </div>
    <div id="r-main">
      <router-view></router-view>
    </div>
  </div>
</template>

<script>
export default {
  name: 'messages',
  methods: {
    toggle () {
      this.showbutton = !this.showbutton
    },
    goIn (i) {
      this.$router.push({
        path: 'conmmunication',
        query: {
          logo: this.arr[i].avatar,
          title: this.arr[i].name,
          status: this.arr[i].status,
          mesData: this.arr[i].mesData,
          info: this.arr[i].info
        }
      })
    }
  },
  data () {
    return {
      showbutton: false,
      arr: [
        {
          name: 'å®˜æ–¹å°åŠ©æ‰‹',
          avatar: '../../static/images/åŠ©æ‰‹.png',
          status: 'å®˜æ–¹',
          info: 'å®˜æ–¹å°åŠ©æ‰‹',
          lastdate: 'æ˜¨å¤©',
          lastmes: 'å°ä¸»äººï¼Œæœ‰ä»€ä¹ˆéœ€è¦æˆ‘å¸®åŠ©æ‚¨çš„å—ï¼Ÿ',
          mesData: [
            {
              avatar: '../../static/images/åŠ©æ‰‹.png',
              name: 'å°åŠ©æ‰‹é˜¿èŠ±',
              status: 'Robot',
              message:
                'Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus nam incidunt, eos beatae amet porro quod nisi commodi, corrupti dolorem repudiandae quibusdam, fugiat corporis pariatur inventore nihil placeat explicabo? Cupiditate?'
            },
            {
              avatar: '../../static/images/åŠ©æ‰‹.png',
              name: 'å°åŠ©æ‰‹é˜¿èŠ±',
              status: 'Robot',
              message:
                'Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus nam incidunt, eos beatae amet porro quod nisi commodi, corrupti dolorem repudiandae quibusdam, fugiat corporis pariatur inventore nihil placeat explicabo? Cupiditate?'
            },
            {
              avatar: '../../static/images/åŠ©æ‰‹.png',
              name: 'å°åŠ©æ‰‹é˜¿èŠ±',
              status: 'Robot',
              message:
                'Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus nam incidunt, eos beatae amet porro quod nisi commodi, corrupti dolorem repudiandae quibusdam, fugiat corporis pariatur inventore nihil placeat explicabo? Cupiditate?'
            },
            {
              avatar: '../../static/images/åŠ©æ‰‹.png',
              name: 'å°åŠ©æ‰‹é˜¿èŠ±',
              status: 'Robot',
              message:
                'Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus nam incidunt, eos beatae amet porro quod nisi commodi, corrupti dolorem repudiandae quibusdam, fugiat corporis pariatur inventore nihil placeat explicabo? Cupiditate?'
            },
            {
              avatar: '../../static/images/åŠ©æ‰‹.png',
              name: 'å°åŠ©æ‰‹é˜¿èŠ±',
              status: 'Robot',
              message:
                'Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus nam incidunt, eos beatae amet porro quod nisi commodi, corrupti dolorem repudiandae quibusdam, fugiat corporis pariatur inventore nihil placeat explicabo? Cupiditate?'
            },
            {
              avatar: '../../static/images/åŠ©æ‰‹.png',
              name: 'å°åŠ©æ‰‹é˜¿èŠ±',
              status: 'Robot',
              message:
                'Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus nam incidunt, eos beatae amet porro quod nisi commodi, corrupti dolorem repudiandae quibusdam, fugiat corporis pariatur inventore nihil placeat explicabo? Cupiditate?'
            }
          ]
        },
        {
          name: 'å¿ƒç†å¥åº·æµ‹è¯•1ç¾¤',
          avatar: '../../static/images/å›¢é˜Ÿ.png',
          status: 'å›¢é˜Ÿ',
          info: '2019çº§å¤©é™…å•é´(åŒ—äº¬)å¿ƒç†å¥åº·æµ‹è¯•ç¾¤',
          lastdate: '4æœˆ17æ—¥',
          lastmes: 'è€å¸ˆï¼šè¯·è¿˜æ²¡æœ‰æäº¤å¿ƒç†æµ‹è¯•é—®å·çš„åŒå­¦å°½å¿«æäº¤ï¼',
          mesData: [
            {
              avatar: '../../static/images/æ–‡è‰ºå¤§å”.png',
              name: 'Mr.èŒ‚å¯†æ£®æ—',
              status: 'è€å¸ˆ',
              message:
                'Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus nam incidunt, eos beatae amet porro quod nisi commodi, corrupti dolorem repudiandae quibusdam, fugiat corporis pariatur inventore nihil placeat explicabo? Cupiditate?'
            },
            {
              avatar: '../../static/images/å¥³å­©.png',
              name: 'å°ç¿ ',
              status: 'ç­èŠ±',
              message:
                'Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus nam incidunt, eos beatae amet porro quod nisi commodi, corrupti dolorem repudiandae quibusdam, fugiat corporis pariatur inventore nihil placeat explicabo? Cupiditate?'
            },
            {
              avatar: '../../static/images/å¿è€….png',
              name: 'å¡”å¡”å¼€',
              status: 'å­¦ç”Ÿ',
              message:
                'Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus nam incidunt, eos beatae amet porro quod nisi commodi, corrupti dolorem repudiandae quibusdam, fugiat corporis pariatur inventore nihil placeat explicabo? Cupiditate?'
            }
          ]
        },
        {
          name: '2019ACMè®­ç»ƒç¾¤',
          avatar: '../../static/images/å›¢é˜Ÿ.png',
          status: 'å›¢é˜Ÿ',
          info: '2019çº§ACMè®­ç»ƒé˜Ÿé€šçŸ¥ç¾¤ï¼Œç¦æ­¢æ°´ç¾¤',
          lastdate: '6æœˆ6æ—¥',
          lastmes: 'æ¨æµ©å¿ ï¼šä»Šå¹´é“¶å·ç«™å¿…é¡»å“ªä¸€ä¸ªé‡‘ç‰Œï¼',
          mesData: [
            {
              avatar: '../../static/images/å®‡èˆªå‘˜.png',
              name: 'è®¸å‘¨æ ·',
              status: 'å°å…¬ä¸¾',
              message:
                'Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus nam incidunt, eos beatae amet porro quod nisi commodi, corrupti dolorem repudiandae quibusdam, fugiat corporis pariatur inventore nihil placeat explicabo? Cupiditate?'
            },
            {
              avatar: '../../static/images/å¥³å­©.png',
              name: 'å°çº¢',
              status: 'èœå¼±',
              message:
                'Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus nam incidunt, eos beatae amet porro quod nisi commodi, corrupti dolorem repudiandae quibusdam, fugiat corporis pariatur inventore nihil placeat explicabo? Cupiditate?'
            },
            {
              avatar: '../../static/images/å¿è€….png',
              name: 'å¡”å¡”å¼€',
              status: 'cf2000+',
              message:
                'Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus nam incidunt, eos beatae amet porro quod nisi commodi, corrupti dolorem repudiandae quibusdam, fugiat corporis pariatur inventore nihil placeat explicabo? Cupiditate?'
            }
          ]
        },
        {
          name: 'å¤©æ´¥å¤§å­¦è€ƒç ”ç¾¤â‘¢ç¾¤',
          avatar: '../../static/images/å›¢é˜Ÿ.png',
          status: 'ç»„ç»‡',
          info: '2022å¤©æ´¥å¤§å­¦è€ƒç ”ç»éªŒåˆ†äº«ç¾¤ï¼Œä»»ä½•é—®é¢˜å¯ä»¥å’¨è¯¢å¤å¤©å­¦é•¿',
          lastdate: '6æœˆ12æ—¥',
          lastmes: 'å¤å¤©å­¦é•¿ï¼š901è€ƒç ”èµ„æ–™ç‰¹æƒ ç°åœ¨ä»…å–299.9ä¸€å¥—',
          mesData: [
            {
              avatar: '../../static/images/æ–‡è‰ºå¤§å”.png',
              name: 'å¤å¤©å­¦é•¿',
              status: 'Robot',
              message:
                'Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus nam incidunt, eos beatae amet porro quod nisi commodi, corrupti dolorem repudiandae quibusdam, fugiat corporis pariatur inventore nihil placeat explicabo? Cupiditate?'
            },
            {
              avatar: '../../static/images/å¥³å­©.png',
              name: 'é˜¿èŠ±',
              status: '22è½¯å·¥',
              message:
                'Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus nam incidunt, eos beatae amet porro quod nisi commodi, corrupti dolorem repudiandae quibusdam, fugiat corporis pariatur inventore nihil placeat explicabo? Cupiditate?'
            }
          ]
        },
        {
          name: 'è¥¿åŒ—å·¥ä¸šå¤§å­¦å¤ºç‰Œå°é˜Ÿ',
          avatar: '../../static/images/é‡‘ç‰Œ.png',
          status: 'å›¢ä½“',
          info: 'å†²å†²å†²ï¼æœ¬å°é˜Ÿç«‹å¿—äºå†²å‡»è¥¿åŒ—èµ›åŒºICPCåŒºåŸŸé‡‘ç‰Œï¼',
          lastdate: '6æœˆ12æ—¥',
          lastmes: 'æ›¹èƒœåï¼šæ˜å¤©å°±è¦å»æ‰“æ¯”èµ›äº†ï¼Œå¥½ç´§å¼ å‘œå‘œå‘œ',
          mesData: [
            {
              avatar: 'https://portrait.gitee.com/uploads/avatars/user/2517/7552702_Langwenchong_1644047602.png!avatar100',
              name: 'wenchong',
              status: 'é˜Ÿé•¿',
              message: 'æ˜å¤©å°±è¦å»æ‰“æ¯”èµ›äº†ï¼Œå¤§ä½¬ä»¬æˆ‘å¥½æ…Œå’‹åŠï¼Œä¸ä¼šæ‰“é“å§ï¼ï¼'
            },
            {
              avatar: '../../static/images/å®‡èˆªå‘˜.png',
              name: 'æ›¹èƒœå',
              status: 'cf2000+',
              message: 'ä½ å¯æ˜¯é˜Ÿé•¿ï¼Œä½ æ€‚ä¸ªæ’’å­å“¦ğŸ™ƒ~'
            }
          ]
        }
      ]
    }
  }
}
</script>

<style scoped>
#messages {
  width: 100%;
  display: flex;
  overflow-x: hidden;
  min-height: 300px;
  /* background:#000; */
}
#messages #l-nav {
  position: relative;
  width: 22%;
  background: #fff;
  position: fixed;
  height: 100%;
  left: 78px;
  top: 0;
  border-right: 1px solid #e1e4e8;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
}
#messages #l-nav #create {
  margin: 0;
  padding: 0;
  list-style: none;
  background: #222;
  border-radius: 6px;
  color: #fff;
  width: 170px;
  height: 200px;
  position: absolute;
  top: 50px;
  right: 10px;
  z-index: 2;
}
#messages #l-nav #create .box {
  cursor: pointer;
  margin: 0;
  padding: 0;
  width: 100%;
  box-sizing: border-box;
  padding: 0 22%;
  height: 25%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  /* background:#fff; */
  transition: 0.5s;
}
#messages #l-nav #create .box i {
  font-size: 22px;
}
#messages #l-nav #create .box:hover {
  background-color: hsla(0, 0%, 100%, 0.1);
}
#messages #l-nav #top-nav {
  width: 100%;
  height: 55px;
  /* background: pink; */
  display: flex;
  justify-content: space-around;
  align-items: center;
}
#messages #l-nav #top-nav #note {
  /* background: green; */
  width: 75%;
  display: flex;
  justify-content: space-around;
  align-items: center;
}
#messages #l-nav #top-nav #tool {
  height: 35px;
  width: 35px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  /* font-weight: 300; */
  font-size: 24px;
  color: #595b5a;
  transition: 0.5s;
  border: 1px solid #e1e4e8;
}
#messages #l-nav #top-nav #tool:hover {
  border: 1px solid #3370ff;
  color: #3370ff;
}
#messages #l-nav #list {
  width: 100%;
}
#messages #l-nav #list .el-menu-vertical-demo {
  border-right: none;
}
#messages #l-nav #list .item {
  transition: 0.5s;
  margin: 0;
  padding: 0 !important;
  padding-left: 15px !important;
  display: flex;
  align-items: center;
  justify-content: space-around;
  height: 80px;
  /* background:pink; */
}
#messages #l-nav #list .item .avatar {
  width: 42px;
  height: 42px;
  /* background:red; */
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
  /* color:yellow; */
  border: 1px solid #3370ff;
}
#messages #l-nav #list .item .avatar img {
  width: 28px;
}
#messages #l-nav #list .item .info {
  width: calc(95% - 42px);
  height: 100%;
  /* background:green; */
  display: flex;
  flex-direction: column;
}
#messages #l-nav #list .item .info .box-header {
  box-sizing: border-box;
  width: 100%;
  height: 55%;
  /* margin-top:15px; */
  /* background:#3370ff; */
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  color: #333;
}
#messages #l-nav #list .item .info .box-header .name {
  width: 70%;
  height: 100%;
  /* background:red; */
  display: flex;
  align-items: center;
  /* justify-content: space-between; */
}
#messages #l-nav #list .item .info .box-header .name .status {
  box-sizing: border-box;
  margin-left: 5px;
  height: 20px;
  /* width:30px; */
  line-height: 20px;
  /* overflow: hidden; */
  font-size: 6px;
  color: #3370ff;
  background-color: #e1eaff;
}
#messages #l-nav #list .item .info .box-header .date {
  align-self: center;
  box-sizing: border-box;
  line-height: 16px;
  font-size: 12px;
  width: 50px;
  margin-right: 10px;
  /* height:100%; */
  /* background:grey; */
  color: #8f959e;
}
#messages #l-nav #list .item .info .box-info p {
  overflow: hidden;
  text-overflow: ellipsis !important;
  line-height: 16px;
  /* text-align: start; */
}
#messages #l-nav #list .item .info .box-info {
  width: 100%;
  height: 45%;
  /* margin-bottom:50px; */
  /* background:yellow; */
  /* text-overflow: ellipsis */
}
#messages #r-main {
  margin-left: calc(22%);
  width: 78%;
  min-height: 200px;
  /* background:#000; */
}
</style>
